"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7777],{2443:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>i,contentTitle:()=>t,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>f});var l=n(4848),s=n(8453);const r={title:"Command Flags"},t=void 0,o={id:"flags",title:"Command Flags",description:"Flag options are non-positional arguments passed to the command. Flags can either be option flags which take an argument, or boolean flags which do not. An option flag must have an argument.",source:"@site/../docs/flags.md",sourceDirName:".",slug:"/flags",permalink:"/docs/oclif/docs/flags",draft:!1,unlisted:!1,editUrl:"https://github.com/oclif/oclif.github.io/tree/docs/docs/../docs/flags.md",tags:[],version:"current",lastUpdatedBy:"Mike Donnalley",lastUpdatedAt:171087419e4,frontMatter:{title:"Command Flags"},sidebar:"docs",previous:{title:"Command Arguments",permalink:"/docs/oclif/docs/args"},next:{title:"Config",permalink:"/docs/oclif/docs/config"}},i={},f=[{value:"Custom Flags",id:"custom-flags",level:2},{value:"Alternative Flag Inputs",id:"alternative-flag-inputs",level:2}];function c(e){const a={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.p,{children:"Flag options are non-positional arguments passed to the command. Flags can either be option flags which take an argument, or boolean flags which do not. An option flag must have an argument."}),"\n",(0,l.jsx)(a.p,{children:"For example, if this command was run like this:"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{children:"$ mycli --force --file=./myfile\n"})}),"\n",(0,l.jsx)(a.p,{children:"It would be declared like this:"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-typescript",children:"import {Command, Flags} from '@oclif/core'\r\n\r\nexport class MyCLI extends Command {\r\n  static flags = {\r\n    // can pass either --force or -f\r\n    force: Flags.boolean({char: 'f'}),\r\n    file: Flags.string(),\r\n  }\r\n\r\n  async run() {\r\n    const {flags} = await this.parse(MyCLI)\r\n    if (flags.force) console.log('--force is set')\r\n    if (flags.file) console.log(`--file is: ${flags.file}`)\r\n  }\r\n}\n"})}),"\n",(0,l.jsx)(a.p,{children:(0,l.jsxs)(a.em,{children:["oclif supports a wide range of ",(0,l.jsx)(a.a,{href:"#alternative-flag-inputs",children:"alternative flag inputs"}),"."]})}),"\n",(0,l.jsx)(a.p,{children:"Here are the options flags can have:"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-js",children:"static flags = {\r\n  name: Flags.string({\r\n    // The following can be set on both boolean and option flag (e.g. string, integer, url, custom, etc) types.\r\n    char: 'n',                                   // shorter flag version\r\n    summary: 'brief summary',                    // help summary for flag\r\n    helpLabel: '--my-flags',                     // The flag label to show in help. Defaults to \"[-<char>] --<name>\" where -<char> is only displayed if the char is defined.\r\n    helpGroup: 'THE BEST FLAGS',                 // Put flag into THE BEST FLAGS group in help\r\n    description: 'in-depth overview',            // help description for flag\r\n    hidden: false,                               // hide from help\r\n    multiple: false,                             // allow setting this flag multiple times\r\n    env: 'MY_NAME',                              // default to value of environment variable\r\n    options: ['a', 'b'],                         // only allow the value to be from a discrete set\r\n    parse: async input => 'output',              // instead of the user input, return a different value\r\n    default: 'world',                            // default value if flag not passed (can be an async function that returns a string or undefined)\r\n    defaultHelp: 'a dynamic value'               // dynamic default value to show in help output (e.g. current working directory). Can be an async function that returns a string or undefined\r\n    required: false,                             // make flag required\r\n    aliases: ['username', 'u'],                  // aliases for the flag - can be short char or long flags\r\n    aliases: ['u', 'n'],                         // single character aliases for the flag\r\n    deprecated: false,                           // mark the flag as deprecated.\r\n    deprecateAliases: false,                     // emit deprecation warning anytime a flag alias is provided\r\n    noCacheDefault: false,                       // if true, the value returned by defaultHelp will not be cached in the oclif.manifest.json.\r\n    dependsOn: ['extra-flag'],                   // this flag requires another flag\r\n    exclusive: ['extra-flag'],                   // this flag cannot be specified alongside this other flag\r\n    exactlyOne: ['extra-flag', 'another-flag'],  // exactly one of these flags must be provided\r\n    relationships: [                             // define complex relationships between flags\r\n      // Make this flag dependent on all of these flags\r\n      {type: 'all', flags: ['flag-one', 'flag-two']}\r\n      // Make this flag dependent on at least one of these flags\r\n      {type: 'some', flags: ['flag-three', 'flag-four']}\r\n      // Make this flag exclusive of all these flags\r\n      {type: 'none', flags: ['flag-five', 'flag-six']}\r\n\r\n      // Make this flag dependent on all of these flags\r\n      {type: 'all', flags: [\r\n        'flag-one',\r\n        'flag-two',\r\n        // Include flag-seven but only when flag-eight is equal to FooBar\r\n        {name: 'flag-seven', when: async (flags) => flags['flag-eight'] === 'FooBar'}\r\n      ]}\r\n    ],\r\n    // The following properties cannot be set on boolean flags\r\n    helpValue: '<name>',                         // The flag value to show in help. Defaults to \"<value>\",\r\n    multipleNonGreedy: false,                    // Parse one value per flag to allow `-m val1 -m val2` but disallow `-m val1 val2`. Only respected if multiple is set to true\r\n    delimiter: ','                               // Delimiter to separate the values for a multiple value flag. Only respected if multiple is set to true. Default behavior is to separate on spaces.\r\n    allowStdin: false,                           // Allow input value to be read from stdin if the provided value is `-`. Can also be set to `only` to allow flag to always read from stdin even if no value is provided.\r\n  }),\r\n\r\n  // flag with no value (-f, --force)\r\n  force: Flags.boolean({\r\n    // Boolean flags take all the same properties described in the previous example\r\n    // in addition to:\r\n    allowNo: true // Support reversible boolean flag with `--no-` prefix (e.g. `--no-force`). This is disabled by default.\r\n  }),\r\n}\n"})}),"\n",(0,l.jsx)(a.h2,{id:"custom-flags",children:"Custom Flags"}),"\n",(0,l.jsx)(a.p,{children:"For larger CLIs, it can be useful to declare a custom flag that can be shared amongst multiple commands. Here is an example of a custom flag:"}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-typescript",children:"// src/flags.ts\r\nimport {Flags} from '@oclif/core'\r\n\r\nclass Team {\r\n  public name: string;\r\n  // etc...\r\n}\r\n\r\nfunction getTeam(): Promise<Team> {\r\n  // imagine this reads a configuration file or something to find the team\r\n  return new Team()\r\n}\r\n\r\nexport const team = Flags.custom<Team>({\r\n  char: 't',\r\n  description: 'team to use',\r\n  default: async () => getTeam(),\r\n})\r\n\r\n// src/commands/mycommand.ts\r\nimport {team} from '../flags'\r\nimport {Command} from '@oclif/core'\r\n\r\nexport class MyCLI extends Command {\r\n  static flags = {\r\n    team: team({\r\n      required: true,\r\n    }),\r\n  }\r\n\r\n  async run() {\r\n    const {flags} = await this.parse(MyCLI)\r\n    if (flags.team) console.log(`--team is ${flags.team.name}`)\r\n  }\r\n}\n"})}),"\n",(0,l.jsx)(a.p,{children:"In the Salesforce CLI we make heavy use of custom flags. For example,"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["A ",(0,l.jsx)(a.a,{href:"https://salesforcecli.github.io/sf-plugins-core/functions/flags_salesforceId.salesforceIdFlag.html",children:(0,l.jsx)(a.code,{children:"salesforceId"})})," flag that ensures the provided string is a valid Salesforce Id."]}),"\n",(0,l.jsxs)(a.li,{children:["A ",(0,l.jsx)(a.a,{href:"https://salesforcecli.github.io/sf-plugins-core/functions/flags_duration.durationFlag.html",children:(0,l.jsx)(a.code,{children:"duration"})})," flag that converts a provided integer into a ",(0,l.jsx)(a.code,{children:"Duration"})," instance that we use for working with time based values."]}),"\n"]}),"\n",(0,l.jsxs)(a.p,{children:["These and more are located ",(0,l.jsx)(a.a,{href:"https://github.com/salesforcecli/sf-plugins-core/tree/main/src/flags",children:"here"})," if you want to see more examples. You can also read the ",(0,l.jsx)(a.a,{href:"https://salesforcecli.github.io/sf-plugins-core/",children:"API docs"}),"."]}),"\n",(0,l.jsx)(a.h2,{id:"alternative-flag-inputs",children:"Alternative Flag Inputs"}),"\n",(0,l.jsxs)(a.p,{children:["Here are some other ways the user can use input flags. This is assuming the command has flags like ",(0,l.jsx)(a.code,{children:"-f, --file=file"})," and ",(0,l.jsx)(a.code,{children:"-v, --verbose"})," (string and boolean flag):"]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-sh-session",children:"$ mycli --verbose\r\n$ mycli -v\r\n$ mycli --file=foo\r\n$ mycli --file foo\r\n$ mycli -f foo\r\n$ mycli -f=foo\r\n$ mycli -ffoo\r\n$ mycli -vffoo\n"})}),"\n",(0,l.jsxs)(a.p,{children:["The last one seems a little odd at first glance, but it's relatively standard in unix and makes commands like ",(0,l.jsx)(a.code,{children:"tar -xvzfmytarball.tar.gz"})," possible."]}),"\n",(0,l.jsxs)(a.p,{children:["See our blog post ",(0,l.jsx)(a.a,{href:"../blog/2019/02/20/cli-flags-explained",children:"CLI Flags Explained"})," for a deeper dive into CLI flags."]})]})}function d(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,l.jsx)(a,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>t,x:()=>o});var l=n(6540);const s={},r=l.createContext(s);function t(e){const a=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(r.Provider,{value:a},e.children)}}}]);