"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9036],{354:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var s=n(4848),l=n(8453);const t={title:"Help Classes"},r=void 0,i={id:"help_classes",title:"Help Classes",description:"Out of the box oclif provides a great help experience for CLIs. Users can invoke help with the --help flag.",source:"@site/../docs/help_classes.md",sourceDirName:".",slug:"/help_classes",permalink:"/docs/oclif/docs/help_classes",draft:!1,unlisted:!1,editUrl:"https://github.com/oclif/oclif.github.io/tree/docs/docs/../docs/help_classes.md",tags:[],version:"current",lastUpdatedBy:"Mike Donnalley",lastUpdatedAt:1711567989e3,frontMatter:{title:"Help Classes"},sidebar:"docs",previous:{title:"Plugins",permalink:"/docs/oclif/docs/plugins"},next:{title:"Performance",permalink:"/docs/oclif/docs/performance"}},a={},c=[{value:"Custom Help",id:"custom-help",level:2},{value:"Extending the <code>HelpBase</code> class",id:"extending-the-helpbase-class",level:2},{value:"Extending the default <code>Help</code> class",id:"extending-the-default-help-class",level:2}];function d(e){const o={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.p,{children:["Out of the box oclif provides a great help experience for CLIs. Users can invoke help with the ",(0,s.jsx)(o.code,{children:"--help"})," flag."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"$ my-cli login --help\n"})}),"\n",(0,s.jsxs)(o.p,{children:["If you want your CLI to have an explicit ",(0,s.jsx)(o.code,{children:"help"})," command, add ",(0,s.jsx)(o.code,{children:"@oclif/plugin-help"})," as an ",(0,s.jsx)(o.a,{href:"/docs/oclif/docs/plugins",children:"oclif plugin in your config"}),"."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"$ my-cli help\n"})}),"\n",(0,s.jsx)(o.h2,{id:"custom-help",children:"Custom Help"}),"\n",(0,s.jsx)(o.p,{children:"To get started, first define the filepath to your help class in oclif's config in package.json. This is a relative path to the help class, without a file extension."}),"\n",(0,s.jsx)(o.p,{children:'For this example, the help class will be created in a file at "[project root]/src/help.ts".'}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-json",children:'{\r\n  "oclif": {\r\n    "helpClass": "./dist/help"\r\n  }\r\n}\n'})}),"\n",(0,s.jsxs)(o.p,{children:["From here there are two paths, implement the ",(0,s.jsx)(o.code,{children:"HelpBase"})," abstract class yourself or overwrite the parts of the default ",(0,s.jsx)(o.code,{children:"Help"})," class you want to customize (ex: how command usage is displayed). We recommend the latter approach but cover both below."]}),"\n",(0,s.jsxs)(o.h2,{id:"extending-the-helpbase-class",children:["Extending the ",(0,s.jsx)(o.code,{children:"HelpBase"})," class"]}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"HelpBase"})," abstract class provides a starting point requiring the minimum needed methods implemented to be compatible with oclif."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-TypeScript",children:"import {Command, HelpBase} from '@oclif/core';\r\n\r\nexport default class CustomHelp extends HelpBase {\r\n  showHelp(args: string[]) {\r\n    console.log('This will be displayed in multi-command CLIs')\r\n  }\r\n\r\n  showCommandHelp(command: Command.Loadable) {\r\n    console.log('This will be displayed in single-command CLIs')\r\n  }\r\n}\n"})}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"showHelp"})," method is called by oclif to display help in multi-command CLIs, while ",(0,s.jsx)(o.code,{children:"showCommandHelp"})," is called directly for single-command CLIs."]}),"\n",(0,s.jsxs)(o.p,{children:["The class is instantiated with a ",(0,s.jsx)(o.code,{children:"config"})," property that provides helpful context for constructing your custom output."]}),"\n",(0,s.jsxs)(o.p,{children:["To see an example of what is possible take a look at the source code for the ",(0,s.jsxs)(o.a,{href:"https://github.com/oclif/core/blob/main/src/help/index.ts",children:["default ",(0,s.jsx)(o.code,{children:"Help"})," class exported from @oclif/core"]}),"."]}),"\n",(0,s.jsxs)(o.h2,{id:"extending-the-default-help-class",children:["Extending the default ",(0,s.jsx)(o.code,{children:"Help"})," class"]}),"\n",(0,s.jsxs)(o.p,{children:["The default ",(0,s.jsx)(o.code,{children:"Help"})," class provides many method \u201chooks\u201d that make it easy to override the particular parts of help's output you want to customize."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-TypeScript",children:"import {Command, Help, Interfaces} from '@oclif/core'\r\n\r\nexport default class MyHelpClass extends Help {\r\n  // acts as a \"router\"\r\n  // and based on the args it receives\r\n  // calls one of showRootHelp, showTopicHelp,\r\n  // the formatting for an individual command\r\n  formatCommand(command: Command.Loadable): string {}\r\n\r\n  // the formatting for a list of commands\r\n  formatCommands(commands: Command.Loadable[]): string {}\r\n\r\n  // displayed for the root help\r\n  formatRoot(): string {}\r\n\r\n  // the formatting for an individual topic\r\n  formatTopic(topic: Interfaces.Topic): string {}\r\n\r\n  // the default implementations of showRootHelp\r\n  // showTopicHelp and showCommandHelp\r\n  // will call various format methods that\r\n  // provide the formatting for their corresponding\r\n  // help sections;\r\n  // these can be overwritten as well\r\n\r\n  // the formatting responsible for the header\r\n  // the formatting for a list of topics\r\n  protected formatTopics(topics: Interfaces.Topic[]): string {}\r\n\r\n  // display help for a command\r\n  showCommandHelp(command: Command.Loadable): void {}\r\n\r\n  // or showCommandHelp\r\n  showHelp(args: string[]): void {}\r\n\r\n  // display the root help of a CLI\r\n  showRootHelp(): void {}\r\n\r\n  // display help for a topic\r\n  showTopicHelp(topic: Interfaces.Topic): void {}\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(o.p,{children:["To see the default implementation of these methods take a look at the ",(0,s.jsxs)(o.a,{href:"https://github.com/oclif/core/blob/main/src/help/index.ts",children:["default ",(0,s.jsx)(o.code,{children:"Help"})," class exported from @oclif/core"]}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["To start experimenting, define ",(0,s.jsx)(o.code,{children:"showCommandHelp"})," in your custom help class and change the output."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-TypeScript",children:"import {Command, Help} from '@oclif/core';\r\n\r\nexport default class MyHelpClass extends Help {\r\n  public showCommandHelp(command: Command.Loadable) {\r\n    console.log('Display my custom command help!')\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(o.p,{children:"Then run help for any command."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"$ my-cli login --help\r\nDisplay my custom command help!\n"})})]})}function p(e={}){const{wrapper:o}={...(0,l.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>r,x:()=>i});var s=n(6540);const l={},t=s.createContext(l);function r(e){const o=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(t.Provider,{value:o},e.children)}}}]);